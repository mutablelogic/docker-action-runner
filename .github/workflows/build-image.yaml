name: Build target image
on:
  workflow_call:
    inputs:
      version:
        description: 'Runner version'
        required: true
        type: string
      platform:
        description: 'Target platform'
        required: true
        type: string
      arch:
        description: 'Target architecture'
        required: true
        type: string
jobs:
  build:
    name: Build
    runs-on: ${{ inputs.platform == 'linux' && (inputs.arch == 'arm64' || inputs.arch == 'arm') && 'self-hosted' || 'ubuntu-latest' }}
    steps:
      - name: Checkout
        uses: actions/checkout@v4
